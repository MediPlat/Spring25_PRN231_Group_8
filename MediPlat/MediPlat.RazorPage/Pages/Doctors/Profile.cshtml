@page
@model MediPlat.RazorPage.Pages.Doctors.ProfileModel

@{
    ViewData["Title"] = "Doctor Profile";
}

@if (!ViewData.ModelState.IsValid)
{
    <div class="alert alert-danger text-center">
        @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
        {
            <p>@error.ErrorMessage</p>
        }
        <script>
            setTimeout(function () {
                window.location.href = "/Auth/Login";
            }, 3000);
        </script>
    </div>
}

<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white text-center">
            <h2>@Model.Doctor.FullName</h2>
            <p>@Model.Doctor.AcademicTitle</p>
        </div>
        <div class="card-body text-center">
            <img src="@Model.Doctor.AvatarUrl" alt="Avatar" class="rounded-circle mb-3" style="width: 150px; height: 150px; border: 3px solid #007bff;">
            <h4>@Model.Doctor.UserName</h4>
            <p class="text-muted">@Model.Doctor.Email</p>
            <p><strong>Phone:</strong> @Model.Doctor.PhoneNumber</p>
            <p><strong>Degree:</strong> @Model.Doctor.Degree</p>
            <p><strong>Join Date:</strong> @Model.Doctor.JoinDate</p>
            <p>
                <strong>Status:</strong>
                @if (Model.Doctor.Status == "Active")
                {
                    <span class="badge bg-success">Active</span>
                }
                else
                {
                    <span class="badge bg-danger">Inactive</span>
                }
            </p>
            <p><strong>Fee Per Hour:</strong> $@Model.Doctor.FeePerHour</p>
            <div class="mt-4">
                <a asp-page="Edit" asp-route-id="@Model.Doctor.Id" class="btn btn-warning">Edit Profile</a>
                <a asp-page="Index" class="btn btn-secondary">Back to List</a>
            </div>
        </div>
    </div>
</div>
